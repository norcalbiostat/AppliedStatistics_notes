<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>15.8 Example: Prescribed amount of missing. | Applied Statistics</title>
  <meta name="description" content="Course notes for Applied Statistics courses at CSU Chico" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="15.8 Example: Prescribed amount of missing. | Applied Statistics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Course notes for Applied Statistics courses at CSU Chico" />
  <meta name="github-repo" content="norcalbiostat/AppliedStatistics_notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="15.8 Example: Prescribed amount of missing. | Applied Statistics" />
  
  <meta name="twitter:description" content="Course notes for Applied Statistics courses at CSU Chico" />
  

<meta name="author" content="Robin Donatello, Edward Roualdes" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="multiple-imputation-using-chained-equations-mice.html"/>
<link rel="next" href="final-thoughts.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Applied Statistics course notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Preparing Data for Analysis</b></span></li>
<li class="chapter" data-level="1" data-path="data-prep.html"><a href="data-prep.html"><i class="fa fa-check"></i><b>1</b> Workflow and Data Cleaning</a><ul>
<li class="chapter" data-level="1.1" data-path="generating-a-reproducible-workflows.html"><a href="generating-a-reproducible-workflows.html"><i class="fa fa-check"></i><b>1.1</b> Generating a reproducible workflows</a><ul>
<li class="chapter" data-level="1.1.1" data-path="generating-a-reproducible-workflows.html"><a href="generating-a-reproducible-workflows.html#literate-programming"><i class="fa fa-check"></i><b>1.1.1</b> Literate programming</a></li>
<li class="chapter" data-level="1.1.2" data-path="generating-a-reproducible-workflows.html"><a href="generating-a-reproducible-workflows.html#reproducible-research-literate-programming"><i class="fa fa-check"></i><b>1.1.2</b> Reproducible Research + Literate Programming</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="import-data.html"><a href="import-data.html"><i class="fa fa-check"></i><b>1.2</b> Import data</a><ul>
<li class="chapter" data-level="1.2.1" data-path="import-data.html"><a href="import-data.html#renaming-variable-names-for-sanity-sake"><i class="fa fa-check"></i><b>1.2.1</b> Renaming variable names for sanity sake</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="data-management.html"><a href="data-management.html"><i class="fa fa-check"></i><b>1.3</b> Data Management</a><ul>
<li class="chapter" data-level="1.3.1" data-path="data-management.html"><a href="data-management.html#missing-data"><i class="fa fa-check"></i><b>1.3.1</b> Missing data</a></li>
<li class="chapter" data-level="1.3.2" data-path="data-management.html"><a href="data-management.html#identifying-variable-types"><i class="fa fa-check"></i><b>1.3.2</b> Identifying Variable Types</a></li>
<li class="chapter" data-level="1.3.3" data-path="data-management.html"><a href="data-management.html#outliers"><i class="fa fa-check"></i><b>1.3.3</b> Outliers</a></li>
<li class="chapter" data-level="1.3.4" data-path="data-management.html"><a href="data-management.html#creating-secondary-variables"><i class="fa fa-check"></i><b>1.3.4</b> Creating secondary variables</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="saving-your-changes.html"><a href="saving-your-changes.html"><i class="fa fa-check"></i><b>1.4</b> Saving your changes</a></li>
<li class="chapter" data-level="1.5" data-path="wide-vs-long-data.html"><a href="wide-vs-long-data.html"><i class="fa fa-check"></i><b>1.5</b> Wide vs. Long data</a></li>
<li class="chapter" data-level="1.6" data-path="dealing-with-missing-data-post-analysis.html"><a href="dealing-with-missing-data-post-analysis.html"><i class="fa fa-check"></i><b>1.6</b> Dealing with missing data post-analysis</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-viz.html"><a href="data-viz.html"><i class="fa fa-check"></i><b>2</b> Visualizing Data</a><ul>
<li class="chapter" data-level="2.1" data-path="the-syntax-of-ggplot.html"><a href="the-syntax-of-ggplot.html"><i class="fa fa-check"></i><b>2.1</b> The syntax of <code>ggplot</code></a><ul>
<li class="chapter" data-level="2.1.1" data-path="the-syntax-of-ggplot.html"><a href="the-syntax-of-ggplot.html#required-arguments"><i class="fa fa-check"></i><b>2.1.1</b> Required arguments</a></li>
<li class="chapter" data-level="2.1.2" data-path="the-syntax-of-ggplot.html"><a href="the-syntax-of-ggplot.html#optional-but-helpful-arguments"><i class="fa fa-check"></i><b>2.1.2</b> Optional but helpful arguments</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="the-data.html"><a href="the-data.html"><i class="fa fa-check"></i><b>2.2</b> The Data</a></li>
<li class="chapter" data-level="2.3" data-path="univariate-visualizations.html"><a href="univariate-visualizations.html"><i class="fa fa-check"></i><b>2.3</b> Univariate Visualizations</a><ul>
<li class="chapter" data-level="2.3.1" data-path="univariate-visualizations.html"><a href="univariate-visualizations.html#categorical-variables"><i class="fa fa-check"></i><b>2.3.1</b> Categorical variables</a></li>
<li class="chapter" data-level="2.3.2" data-path="univariate-visualizations.html"><a href="univariate-visualizations.html#continuous-measures"><i class="fa fa-check"></i><b>2.3.2</b> Continuous Measures</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html"><i class="fa fa-check"></i><b>2.4</b> Bivariate Visualizations</a><ul>
<li class="chapter" data-level="2.4.1" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#categorical-v.-categorical"><i class="fa fa-check"></i><b>2.4.1</b> Categorical v. Categorical</a></li>
<li class="chapter" data-level="2.4.2" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#grouped-bar-charts-with-percentages"><i class="fa fa-check"></i><b>2.4.2</b> Grouped bar charts with percentages</a></li>
<li class="chapter" data-level="2.4.3" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#continuous-v.-continuous"><i class="fa fa-check"></i><b>2.4.3</b> Continuous v. Continuous</a></li>
<li class="chapter" data-level="2.4.4" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#continuous-v.-categorical"><i class="fa fa-check"></i><b>2.4.4</b> Continuous v. Categorical</a></li>
<li class="chapter" data-level="2.4.5" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#joy-plots-ridgelines"><i class="fa fa-check"></i><b>2.4.5</b> Joy plots / Ridgelines</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="faceting-paneling.html"><a href="faceting-paneling.html"><i class="fa fa-check"></i><b>2.5</b> Faceting / paneling</a></li>
<li class="chapter" data-level="2.6" data-path="multiple-plots-per-window.html"><a href="multiple-plots-per-window.html"><i class="fa fa-check"></i><b>2.6</b> Multiple plots per window</a></li>
<li class="chapter" data-level="2.7" data-path="multivariate-3-variables.html"><a href="multivariate-3-variables.html"><i class="fa fa-check"></i><b>2.7</b> Multivariate (3+ variables)</a><ul>
<li class="chapter" data-level="2.7.1" data-path="multivariate-3-variables.html"><a href="multivariate-3-variables.html#three-continuous"><i class="fa fa-check"></i><b>2.7.1</b> Three continuous</a></li>
<li class="chapter" data-level="2.7.2" data-path="multivariate-3-variables.html"><a href="multivariate-3-variables.html#scatterplot-matrix"><i class="fa fa-check"></i><b>2.7.2</b> Scatterplot matrix</a></li>
<li class="chapter" data-level="2.7.3" data-path="multivariate-3-variables.html"><a href="multivariate-3-variables.html#two-categorical-and-one-continuous"><i class="fa fa-check"></i><b>2.7.3</b> Two categorical and one continuous</a></li>
<li class="chapter" data-level="2.7.4" data-path="multivariate-3-variables.html"><a href="multivariate-3-variables.html#two-continuous-and-one-categorical"><i class="fa fa-check"></i><b>2.7.4</b> Two continuous and one categorical</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="paneling-on-two-variables.html"><a href="paneling-on-two-variables.html"><i class="fa fa-check"></i><b>2.8</b> Paneling on two variables</a></li>
<li class="chapter" data-level="2.9" data-path="troubleshooting.html"><a href="troubleshooting.html"><i class="fa fa-check"></i><b>2.9</b> Troubleshooting</a></li>
<li class="chapter" data-level="2.10" data-path="but-what-about.html"><a href="but-what-about.html"><i class="fa fa-check"></i><b>2.10</b> But what about…</a><ul>
<li class="chapter" data-level="2.10.1" data-path="but-what-about.html"><a href="but-what-about.html#other-plots-not-mentioned"><i class="fa fa-check"></i><b>2.10.1</b> Other plots not mentioned</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="additional-resources.html"><a href="additional-resources.html"><i class="fa fa-check"></i><b>2.11</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="select-analysis.html"><a href="select-analysis.html"><i class="fa fa-check"></i><b>3</b> Selecting Appropriate Analyses</a></li>
<li class="part"><span><b>II Statistical Inference</b></span></li>
<li class="chapter" data-level="4" data-path="bv-intro.html"><a href="bv-intro.html"><i class="fa fa-check"></i><b>4</b> Foundations for Inference</a></li>
<li class="chapter" data-level="5" data-path="bivariate-analysis.html"><a href="bivariate-analysis.html"><i class="fa fa-check"></i><b>5</b> Bivariate Analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="assumption-of-independent-observations.html"><a href="assumption-of-independent-observations.html"><i class="fa fa-check"></i><b>5.1</b> Assumption of Independent Observations</a></li>
<li class="chapter" data-level="5.2" data-path="choosing-appropriate-bivariate-analysis.html"><a href="choosing-appropriate-bivariate-analysis.html"><i class="fa fa-check"></i><b>5.2</b> Choosing appropriate bivariate analysis</a></li>
<li class="chapter" data-level="5.3" data-path="bv-ttest.html"><a href="bv-ttest.html"><i class="fa fa-check"></i><b>5.3</b> (Q~B) Two means: T-Test</a><ul>
<li class="chapter" data-level="5.3.1" data-path="bv-ttest.html"><a href="bv-ttest.html#assumptions"><i class="fa fa-check"></i><b>5.3.1</b> Assumptions</a></li>
<li class="chapter" data-level="5.3.2" data-path="bv-ttest.html"><a href="bv-ttest.html#sampling-distribution-for-the-difference"><i class="fa fa-check"></i><b>5.3.2</b> Sampling Distribution for the difference</a></li>
<li class="chapter" data-level="5.3.3" data-path="bv-ttest.html"><a href="bv-ttest.html#example-smoking-and-bmi"><i class="fa fa-check"></i><b>5.3.3</b> Example: Smoking and BMI</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="bv-anova.html"><a href="bv-anova.html"><i class="fa fa-check"></i><b>5.4</b> (Q~C) Multiple means: ANOVA</a><ul>
<li class="chapter" data-level="5.4.1" data-path="bv-anova.html"><a href="bv-anova.html#formulation-of-the-one-way-anova-model"><i class="fa fa-check"></i><b>5.4.1</b> Formulation of the One-way ANOVA model</a></li>
<li class="chapter" data-level="5.4.2" data-path="bv-anova.html"><a href="bv-anova.html#analysis-of-variance-tabl"><i class="fa fa-check"></i><b>5.4.2</b> Analysis of Variance Tabl*:</a></li>
<li class="chapter" data-level="5.4.3" data-path="bv-anova.html"><a href="bv-anova.html#the-f-distribution"><i class="fa fa-check"></i><b>5.4.3</b> The F-distribution</a></li>
<li class="chapter" data-level="5.4.4" data-path="bv-anova.html"><a href="bv-anova.html#assumptions-1"><i class="fa fa-check"></i><b>5.4.4</b> Assumptions</a></li>
<li class="chapter" data-level="5.4.5" data-path="bv-anova.html"><a href="bv-anova.html#example-a-comparison-of-plant-species-under-low-water-conditions"><i class="fa fa-check"></i><b>5.4.5</b> Example: A comparison of plant species under low water conditions</a></li>
<li class="chapter" data-level="5.4.6" data-path="bv-anova.html"><a href="bv-anova.html#coefficient-of-determination-r2"><i class="fa fa-check"></i><b>5.4.6</b> Coefficient of determination <span class="math inline">\(R^{2}\)</span></a></li>
<li class="chapter" data-level="5.4.7" data-path="bv-anova.html"><a href="bv-anova.html#multiple-comparisons"><i class="fa fa-check"></i><b>5.4.7</b> Multiple Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="bv-chisq.html"><a href="bv-chisq.html"><i class="fa fa-check"></i><b>5.5</b> (C~C) Multiple Proportions: <span class="math inline">\(\chi^{2}\)</span></a><ul>
<li class="chapter" data-level="5.5.1" data-path="bv-chisq.html"><a href="bv-chisq.html#conditions-for-the-sampling-distribution-to-be-normal."><i class="fa fa-check"></i><b>5.5.1</b> Conditions for the sampling distribution to be normal.</a></li>
<li class="chapter" data-level="5.5.2" data-path="bv-chisq.html"><a href="bv-chisq.html#example-are-mammograms-effective"><i class="fa fa-check"></i><b>5.5.2</b> Example: Are Mammograms effective?</a></li>
<li class="chapter" data-level="5.5.3" data-path="bv-chisq.html"><a href="bv-chisq.html#example-smoking-and-general-health"><i class="fa fa-check"></i><b>5.5.3</b> Example: Smoking and General Health</a></li>
<li class="chapter" data-level="5.5.4" data-path="bv-chisq.html"><a href="bv-chisq.html#multiple-comparisons-1"><i class="fa fa-check"></i><b>5.5.4</b> Multiple Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="bv-corr.html"><a href="bv-corr.html"><i class="fa fa-check"></i><b>5.6</b> (Q~Q) Correlation</a><ul>
<li class="chapter" data-level="5.6.1" data-path="bv-corr.html"><a href="bv-corr.html#example-federal-spending-per-capita-and-poverty-rate"><i class="fa fa-check"></i><b>5.6.1</b> Example: Federal spending per capita and poverty rate</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Regression Modeling</b></span></li>
<li class="chapter" data-level="6" data-path="reg-intro.html"><a href="reg-intro.html"><i class="fa fa-check"></i><b>6</b> Introduction</a></li>
<li class="chapter" data-level="7" data-path="slr.html"><a href="slr.html"><i class="fa fa-check"></i><b>7</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="7.1" data-path="mathematical-model.html"><a href="mathematical-model.html"><i class="fa fa-check"></i><b>7.1</b> Mathematical Model</a></li>
<li class="chapter" data-level="7.2" data-path="parameter-estimates.html"><a href="parameter-estimates.html"><i class="fa fa-check"></i><b>7.2</b> Parameter Estimates</a></li>
<li class="chapter" data-level="7.3" data-path="least-squares-regression.html"><a href="least-squares-regression.html"><i class="fa fa-check"></i><b>7.3</b> Least Squares Regression</a></li>
<li class="chapter" data-level="7.4" data-path="interval-estimation.html"><a href="interval-estimation.html"><i class="fa fa-check"></i><b>7.4</b> Interval estimation</a></li>
<li class="chapter" data-level="7.5" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html"><i class="fa fa-check"></i><b>7.5</b> Correlation Coefficient</a></li>
<li class="chapter" data-level="7.6" data-path="assumptions-2.html"><a href="assumptions-2.html"><i class="fa fa-check"></i><b>7.6</b> Assumptions</a></li>
<li class="chapter" data-level="7.7" data-path="slr-fev.html"><a href="slr-fev.html"><i class="fa fa-check"></i><b>7.7</b> Example</a><ul>
<li class="chapter" data-level="7.7.1" data-path="slr-fev.html"><a href="slr-fev.html#confidence-and-prediction-intervals"><i class="fa fa-check"></i><b>7.7.1</b> Confidence and Prediction Intervals</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="anova-for-regression.html"><a href="anova-for-regression.html"><i class="fa fa-check"></i><b>7.8</b> ANOVA for regression</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mlr.html"><a href="mlr.html"><i class="fa fa-check"></i><b>8</b> Multiple Linear Regression</a><ul>
<li class="chapter" data-level="8.1" data-path="types-of-x-variables.html"><a href="types-of-x-variables.html"><i class="fa fa-check"></i><b>8.1</b> Types of X variables</a></li>
<li class="chapter" data-level="8.2" data-path="mathematical-model-1.html"><a href="mathematical-model-1.html"><i class="fa fa-check"></i><b>8.2</b> Mathematical Model</a></li>
<li class="chapter" data-level="8.3" data-path="parameter-estimation.html"><a href="parameter-estimation.html"><i class="fa fa-check"></i><b>8.3</b> Parameter Estimation</a></li>
<li class="chapter" data-level="8.4" data-path="example.html"><a href="example.html"><i class="fa fa-check"></i><b>8.4</b> Example</a></li>
<li class="chapter" data-level="8.5" data-path="model-diagnostics.html"><a href="model-diagnostics.html"><i class="fa fa-check"></i><b>8.5</b> Model Diagnostics</a></li>
<li class="chapter" data-level="8.6" data-path="multicollinearity.html"><a href="multicollinearity.html"><i class="fa fa-check"></i><b>8.6</b> Multicollinearity</a></li>
<li class="chapter" data-level="8.7" data-path="what-to-watch-out-for.html"><a href="what-to-watch-out-for.html"><i class="fa fa-check"></i><b>8.7</b> What to watch out for</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>9</b> Generalized Linear Models</a><ul>
<li class="chapter" data-level="9.1" data-path="fitting-glms.html"><a href="fitting-glms.html"><i class="fa fa-check"></i><b>9.1</b> Fitting GLMs</a><ul>
<li class="chapter" data-level="9.1.1" data-path="fitting-glms.html"><a href="fitting-glms.html#r"><i class="fa fa-check"></i><b>9.1.1</b> R</a></li>
<li class="chapter" data-level="9.1.2" data-path="fitting-glms.html"><a href="fitting-glms.html#spss"><i class="fa fa-check"></i><b>9.1.2</b> SPSS</a></li>
<li class="chapter" data-level="9.1.3" data-path="fitting-glms.html"><a href="fitting-glms.html#stata"><i class="fa fa-check"></i><b>9.1.3</b> Stata</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="binary-outcome-data.html"><a href="binary-outcome-data.html"><i class="fa fa-check"></i><b>9.2</b> Binary outcome data</a></li>
<li class="chapter" data-level="9.3" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>9.3</b> Logistic Regression</a><ul>
<li class="chapter" data-level="9.3.1" data-path="logistic-regression.html"><a href="logistic-regression.html#interpreting-odds-ratios"><i class="fa fa-check"></i><b>9.3.1</b> Interpreting Odds Ratios</a></li>
<li class="chapter" data-level="9.3.2" data-path="logistic-regression.html"><a href="logistic-regression.html#logreg-dep-ex"><i class="fa fa-check"></i><b>9.3.2</b> Example: The effect of gender on Depression</a></li>
<li class="chapter" data-level="9.3.3" data-path="logistic-regression.html"><a href="logistic-regression.html#mlogreg"><i class="fa fa-check"></i><b>9.3.3</b> Multiple Logistic Regression</a></li>
<li class="chapter" data-level="9.3.4" data-path="logistic-regression.html"><a href="logistic-regression.html#effect-of-a-k-unit-change"><i class="fa fa-check"></i><b>9.3.4</b> Effect of a k unit change</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="log-linear-models.html"><a href="log-linear-models.html"><i class="fa fa-check"></i><b>9.4</b> Log-linear models</a><ul>
<li class="chapter" data-level="9.4.1" data-path="log-linear-models.html"><a href="log-linear-models.html#example-1"><i class="fa fa-check"></i><b>9.4.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="categorical-outcome-data.html"><a href="categorical-outcome-data.html"><i class="fa fa-check"></i><b>9.5</b> Categorical outcome data</a></li>
<li class="chapter" data-level="9.6" data-path="count-outcome-data.html"><a href="count-outcome-data.html"><i class="fa fa-check"></i><b>9.6</b> Count outcome data</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="model-building.html"><a href="model-building.html"><i class="fa fa-check"></i><b>10</b> Model Building</a><ul>
<li class="chapter" data-level="10.1" data-path="stratification.html"><a href="stratification.html"><i class="fa fa-check"></i><b>10.1</b> Stratification</a></li>
<li class="chapter" data-level="10.2" data-path="moderation.html"><a href="moderation.html"><i class="fa fa-check"></i><b>10.2</b> Moderation</a><ul>
<li class="chapter" data-level="10.2.1" data-path="moderation.html"><a href="moderation.html#example-1-sepal-vs-petal-length"><i class="fa fa-check"></i><b>10.2.1</b> Example 1: Sepal vs Petal Length</a></li>
<li class="chapter" data-level="10.2.2" data-path="moderation.html"><a href="moderation.html#example-2-simpsons-paradox"><i class="fa fa-check"></i><b>10.2.2</b> Example 2: Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="interactions.html"><a href="interactions.html"><i class="fa fa-check"></i><b>10.3</b> Interactions</a><ul>
<li class="chapter" data-level="10.3.1" data-path="interactions.html"><a href="interactions.html#example-1-1"><i class="fa fa-check"></i><b>10.3.1</b> Example 1</a></li>
<li class="chapter" data-level="10.3.2" data-path="interactions.html"><a href="interactions.html#example-2"><i class="fa fa-check"></i><b>10.3.2</b> Example 2</a></li>
<li class="chapter" data-level="10.3.3" data-path="interactions.html"><a href="interactions.html#example-3-the-relationship-between-income-employment-status-and-depression."><i class="fa fa-check"></i><b>10.3.3</b> Example 3: The relationship between income, employment status and depression.</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="confounding.html"><a href="confounding.html"><i class="fa fa-check"></i><b>10.4</b> Confounding</a></li>
<li class="chapter" data-level="10.5" data-path="categorical-predictors.html"><a href="categorical-predictors.html"><i class="fa fa-check"></i><b>10.5</b> Categorical Predictors</a><ul>
<li class="chapter" data-level="10.5.1" data-path="categorical-predictors.html"><a href="categorical-predictors.html#factor-variable-coding"><i class="fa fa-check"></i><b>10.5.1</b> Factor variable coding</a></li>
<li class="chapter" data-level="10.5.2" data-path="categorical-predictors.html"><a href="categorical-predictors.html#wald-test"><i class="fa fa-check"></i><b>10.5.2</b> Wald test</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="variable-selection-process.html"><a href="variable-selection-process.html"><i class="fa fa-check"></i><b>10.6</b> Variable Selection Process</a><ul>
<li class="chapter" data-level="10.6.1" data-path="variable-selection-process.html"><a href="variable-selection-process.html#automated-selection-procedures"><i class="fa fa-check"></i><b>10.6.1</b> Automated selection procedures</a></li>
<li class="chapter" data-level="10.6.2" data-path="variable-selection-process.html"><a href="variable-selection-process.html#the-lesser-of-three-evils-best-subsets-pma5-section-8.7"><i class="fa fa-check"></i><b>10.6.2</b> The lesser of three evils: Best Subsets (PMA5 Section 8.7)</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="comparing-between-models.html"><a href="comparing-between-models.html"><i class="fa fa-check"></i><b>10.7</b> Comparing between models</a></li>
<li class="chapter" data-level="10.8" data-path="what-to-watch-out-for-1.html"><a href="what-to-watch-out-for-1.html"><i class="fa fa-check"></i><b>10.8</b> What to watch out for</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="binary-classification.html"><a href="binary-classification.html"><i class="fa fa-check"></i><b>11</b> Classification of Binary outcomes</a><ul>
<li class="chapter" data-level="11.1" data-path="calculating-predictions.html"><a href="calculating-predictions.html"><i class="fa fa-check"></i><b>11.1</b> Calculating predictions</a><ul>
<li class="chapter" data-level="11.1.1" data-path="calculating-predictions.html"><a href="calculating-predictions.html#optimal-cutoff-value"><i class="fa fa-check"></i><b>11.1.1</b> Optimal Cutoff Value</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="roc-curves.html"><a href="roc-curves.html"><i class="fa fa-check"></i><b>11.2</b> ROC Curves</a></li>
<li class="chapter" data-level="11.3" data-path="model-performance.html"><a href="model-performance.html"><i class="fa fa-check"></i><b>11.3</b> Model Performance</a></li>
</ul></li>
<li class="part"><span><b>IV Multivariate Analysis</b></span></li>
<li class="chapter" data-level="12" data-path="mv-intro.html"><a href="mv-intro.html"><i class="fa fa-check"></i><b>12</b> Introduction</a></li>
<li class="chapter" data-level="13" data-path="pca.html"><a href="pca.html"><i class="fa fa-check"></i><b>13</b> Principal Component Analysis</a><ul>
<li class="chapter" data-level="13.1" data-path="basic-idea.html"><a href="basic-idea.html"><i class="fa fa-check"></i><b>13.1</b> Basic Idea</a></li>
<li class="chapter" data-level="13.2" data-path="more-generally.html"><a href="more-generally.html"><i class="fa fa-check"></i><b>13.2</b> More Generally</a></li>
<li class="chapter" data-level="13.3" data-path="generating-pcs-using-r.html"><a href="generating-pcs-using-r.html"><i class="fa fa-check"></i><b>13.3</b> Generating PC’s using R</a></li>
<li class="chapter" data-level="13.4" data-path="using-the-correlation-matrix.html"><a href="using-the-correlation-matrix.html"><i class="fa fa-check"></i><b>13.4</b> Using the correlation matrix</a></li>
<li class="chapter" data-level="13.5" data-path="data-reduction.html"><a href="data-reduction.html"><i class="fa fa-check"></i><b>13.5</b> Data Reduction</a></li>
<li class="chapter" data-level="13.6" data-path="example-analysis-of-depression.html"><a href="example-analysis-of-depression.html"><i class="fa fa-check"></i><b>13.6</b> Example Analysis of depression</a></li>
<li class="chapter" data-level="13.7" data-path="use-in-multiple-regression.html"><a href="use-in-multiple-regression.html"><i class="fa fa-check"></i><b>13.7</b> Use in Multiple Regression</a></li>
<li class="chapter" data-level="13.8" data-path="things-to-watch-out-for.html"><a href="things-to-watch-out-for.html"><i class="fa fa-check"></i><b>13.8</b> Things to watch out for</a></li>
<li class="chapter" data-level="13.9" data-path="additional-references.html"><a href="additional-references.html"><i class="fa fa-check"></i><b>13.9</b> Additional References</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="fa.html"><a href="fa.html"><i class="fa fa-check"></i><b>14</b> Factor Analysis</a><ul>
<li class="chapter" data-level="14.1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>14.1</b> Introduction</a><ul>
<li class="chapter" data-level="14.1.1" data-path="introduction.html"><a href="introduction.html#latent-constructs"><i class="fa fa-check"></i><b>14.1.1</b> Latent Constructs</a></li>
<li class="chapter" data-level="14.1.2" data-path="introduction.html"><a href="introduction.html#efa-vs-cfa"><i class="fa fa-check"></i><b>14.1.2</b> EFA vs CFA</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="factor-model.html"><a href="factor-model.html"><i class="fa fa-check"></i><b>14.2</b> Factor Model</a><ul>
<li class="chapter" data-level="14.2.1" data-path="factor-model.html"><a href="factor-model.html#comparison-with-pca"><i class="fa fa-check"></i><b>14.2.1</b> Comparison with PCA</a></li>
<li class="chapter" data-level="14.2.2" data-path="factor-model.html"><a href="factor-model.html#implications"><i class="fa fa-check"></i><b>14.2.2</b> Implications</a></li>
<li class="chapter" data-level="14.2.3" data-path="factor-model.html"><a href="factor-model.html#two-big-steps"><i class="fa fa-check"></i><b>14.2.3</b> Two big steps</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="fa-example.html"><a href="fa-example.html"><i class="fa fa-check"></i><b>14.3</b> Example setup</a></li>
<li class="chapter" data-level="14.4" data-path="fa-extract.html"><a href="fa-extract.html"><i class="fa fa-check"></i><b>14.4</b> Factor Extraction</a><ul>
<li class="chapter" data-level="14.4.1" data-path="fa-extract.html"><a href="fa-extract.html#pc-factor-model"><i class="fa fa-check"></i><b>14.4.1</b> PC Factor Model</a></li>
<li class="chapter" data-level="14.4.2" data-path="fa-extract.html"><a href="fa-extract.html#iterated-pc-factor-model"><i class="fa fa-check"></i><b>14.4.2</b> Iterated PC Factor Model</a></li>
<li class="chapter" data-level="14.4.3" data-path="fa-extract.html"><a href="fa-extract.html#maximum-likelihood"><i class="fa fa-check"></i><b>14.4.3</b> Maximum Likelihood</a></li>
<li class="chapter" data-level="14.4.4" data-path="fa-extract.html"><a href="fa-extract.html#example-3"><i class="fa fa-check"></i><b>14.4.4</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="rotating-factors.html"><a href="rotating-factors.html"><i class="fa fa-check"></i><b>14.5</b> Rotating Factors</a><ul>
<li class="chapter" data-level="14.5.1" data-path="rotating-factors.html"><a href="rotating-factors.html#varimax-rotation"><i class="fa fa-check"></i><b>14.5.1</b> Varimax Rotation</a></li>
<li class="chapter" data-level="14.5.2" data-path="rotating-factors.html"><a href="rotating-factors.html#oblique-rotation"><i class="fa fa-check"></i><b>14.5.2</b> Oblique rotation</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="factor-scores.html"><a href="factor-scores.html"><i class="fa fa-check"></i><b>14.6</b> Factor Scores</a></li>
<li class="chapter" data-level="14.7" data-path="what-to-watch-out-for-2.html"><a href="what-to-watch-out-for-2.html"><i class="fa fa-check"></i><b>14.7</b> What to watch out for</a></li>
<li class="chapter" data-level="14.8" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>14.8</b> Additional Resources</a></li>
</ul></li>
<li class="part"><span><b>V Other Topics</b></span></li>
<li class="chapter" data-level="15" data-path="mda.html"><a href="mda.html"><i class="fa fa-check"></i><b>15</b> Missing Data</a><ul>
<li class="chapter" data-level="15.1" data-path="identifying-missing-data.html"><a href="identifying-missing-data.html"><i class="fa fa-check"></i><b>15.1</b> Identifying missing data</a><ul>
<li class="chapter" data-level="15.1.1" data-path="identifying-missing-data.html"><a href="identifying-missing-data.html#visualize-missing-patterns"><i class="fa fa-check"></i><b>15.1.1</b> Visualize missing patterns</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="effects-of-nonresponse.html"><a href="effects-of-nonresponse.html"><i class="fa fa-check"></i><b>15.2</b> Effects of Nonresponse</a></li>
<li class="chapter" data-level="15.3" data-path="missing-data-mechanisms.html"><a href="missing-data-mechanisms.html"><i class="fa fa-check"></i><b>15.3</b> Missing Data Mechanisms</a><ul>
<li class="chapter" data-level="15.3.1" data-path="missing-data-mechanisms.html"><a href="missing-data-mechanisms.html#demonstration-via-simulation"><i class="fa fa-check"></i><b>15.3.1</b> Demonstration via Simulation</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="general-strategies.html"><a href="general-strategies.html"><i class="fa fa-check"></i><b>15.4</b> General strategies</a><ul>
<li class="chapter" data-level="15.4.1" data-path="general-strategies.html"><a href="general-strategies.html#complete-cases-analysis"><i class="fa fa-check"></i><b>15.4.1</b> Complete cases analysis</a></li>
<li class="chapter" data-level="15.4.2" data-path="general-strategies.html"><a href="general-strategies.html#available-case-analysis"><i class="fa fa-check"></i><b>15.4.2</b> Available-case analysis</a></li>
<li class="chapter" data-level="15.4.3" data-path="general-strategies.html"><a href="general-strategies.html#imputation"><i class="fa fa-check"></i><b>15.4.3</b> Imputation</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="imputation-methods.html"><a href="imputation-methods.html"><i class="fa fa-check"></i><b>15.5</b> Imputation Methods</a></li>
<li class="chapter" data-level="15.6" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html"><i class="fa fa-check"></i><b>15.6</b> Multiple Imputation (MI)</a><ul>
<li class="chapter" data-level="15.6.1" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html#goals"><i class="fa fa-check"></i><b>15.6.1</b> Goals</a></li>
<li class="chapter" data-level="15.6.2" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html#technique"><i class="fa fa-check"></i><b>15.6.2</b> Technique</a></li>
<li class="chapter" data-level="15.6.3" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html#mi-as-a-paradigm"><i class="fa fa-check"></i><b>15.6.3</b> MI as a paradigm</a></li>
<li class="chapter" data-level="15.6.4" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html#inference-on-mi"><i class="fa fa-check"></i><b>15.6.4</b> Inference on MI</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="multiple-imputation-using-chained-equations-mice.html"><a href="multiple-imputation-using-chained-equations-mice.html"><i class="fa fa-check"></i><b>15.7</b> Multiple Imputation using Chained Equations (MICE)</a><ul>
<li class="chapter" data-level="15.7.1" data-path="multiple-imputation-using-chained-equations-mice.html"><a href="multiple-imputation-using-chained-equations-mice.html#overview"><i class="fa fa-check"></i><b>15.7.1</b> Overview</a></li>
<li class="chapter" data-level="15.7.2" data-path="multiple-imputation-using-chained-equations-mice.html"><a href="multiple-imputation-using-chained-equations-mice.html#process-algorithm"><i class="fa fa-check"></i><b>15.7.2</b> Process / Algorithm</a></li>
<li class="chapter" data-level="15.7.3" data-path="multiple-imputation-using-chained-equations-mice.html"><a href="multiple-imputation-using-chained-equations-mice.html#convergence"><i class="fa fa-check"></i><b>15.7.3</b> Convergence</a></li>
<li class="chapter" data-level="15.7.4" data-path="multiple-imputation-using-chained-equations-mice.html"><a href="multiple-imputation-using-chained-equations-mice.html#imputation-methods-1"><i class="fa fa-check"></i><b>15.7.4</b> Imputation Methods</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="example-prescribed-amount-of-missing-.html"><a href="example-prescribed-amount-of-missing-.html"><i class="fa fa-check"></i><b>15.8</b> Example: Prescribed amount of missing.</a><ul>
<li class="chapter" data-level="15.8.1" data-path="example-prescribed-amount-of-missing-.html"><a href="example-prescribed-amount-of-missing-.html#multiply-impute-the-missing-data-using-mice"><i class="fa fa-check"></i><b>15.8.1</b> Multiply impute the missing data using <code>mice()</code></a></li>
<li class="chapter" data-level="15.8.2" data-path="example-prescribed-amount-of-missing-.html"><a href="example-prescribed-amount-of-missing-.html#check-the-imputation-method-used-on-each-variable."><i class="fa fa-check"></i><b>15.8.2</b> Check the imputation method used on each variable.</a></li>
<li class="chapter" data-level="15.8.3" data-path="example-prescribed-amount-of-missing-.html"><a href="example-prescribed-amount-of-missing-.html#check-convergence"><i class="fa fa-check"></i><b>15.8.3</b> Check Convergence</a></li>
<li class="chapter" data-level="15.8.4" data-path="example-prescribed-amount-of-missing-.html"><a href="example-prescribed-amount-of-missing-.html#look-at-the-values-generated-for-imputation"><i class="fa fa-check"></i><b>15.8.4</b> Look at the values generated for imputation</a></li>
<li class="chapter" data-level="15.8.5" data-path="example-prescribed-amount-of-missing-.html"><a href="example-prescribed-amount-of-missing-.html#create-a-complete-data-set-by-filling-in-the-missing-data-using-the-imputations"><i class="fa fa-check"></i><b>15.8.5</b> Create a complete data set by filling in the missing data using the imputations</a></li>
<li class="chapter" data-level="15.8.6" data-path="example-prescribed-amount-of-missing-.html"><a href="example-prescribed-amount-of-missing-.html#visualize-imputations"><i class="fa fa-check"></i><b>15.8.6</b> Visualize Imputations</a></li>
<li class="chapter" data-level="15.8.7" data-path="example-prescribed-amount-of-missing-.html"><a href="example-prescribed-amount-of-missing-.html#calculating-bias"><i class="fa fa-check"></i><b>15.8.7</b> Calculating bias</a></li>
</ul></li>
<li class="chapter" data-level="15.9" data-path="final-thoughts.html"><a href="final-thoughts.html"><i class="fa fa-check"></i><b>15.9</b> Final thoughts</a></li>
<li class="chapter" data-level="15.10" data-path="additional-references-1.html"><a href="additional-references-1.html"><i class="fa fa-check"></i><b>15.10</b> Additional References</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/norcalbiostat/AppliedStatistics_notes" target="blank">View source on Github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applied Statistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="example-prescribed-amount-of-missing." class="section level2">
<h2><span class="header-section-number">15.8</span> Example: Prescribed amount of missing.</h2>
<p>We will demonstrate using Fisher’s Iris data (pre-built in with R) where we can artificially create a prespecified percent of the data missing. This allows us to be able to estimate the bias incurred by using these imputation methods.</p>
<p>For the <code>iris</code> data we set a seed and use the <code>prodNA()</code> function from the <code>missForest</code> package to create 10% missing values in this data set.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb255-1" title="1"><span class="kw">library</span>(missForest)</a>
<a class="sourceLine" id="cb255-2" title="2"><span class="kw">set.seed</span>(<span class="dv">12345</span>) <span class="co"># Note to self: Change the combo on my luggage</span></a>
<a class="sourceLine" id="cb255-3" title="3">iris.mis &lt;-<span class="st"> </span><span class="kw">prodNA</span>(iris, <span class="dt">noNA=</span><span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb255-4" title="4"><span class="kw">prop.table</span>(<span class="kw">table</span>(<span class="kw">is.na</span>(iris.mis)))</a>
<a class="sourceLine" id="cb255-5" title="5"><span class="co">## </span></a>
<a class="sourceLine" id="cb255-6" title="6"><span class="co">## FALSE  TRUE </span></a>
<a class="sourceLine" id="cb255-7" title="7"><span class="co">##   0.9   0.1</span></a></code></pre></div>
<p>Visualize missing data pattern.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb256-1" title="1"><span class="kw">library</span>(VIM)</a>
<a class="sourceLine" id="cb256-2" title="2"><span class="kw">aggr</span>(iris.mis, <span class="dt">col=</span><span class="kw">c</span>(<span class="st">&#39;darkolivegreen3&#39;</span>,<span class="st">&#39;salmon&#39;</span>),</a>
<a class="sourceLine" id="cb256-3" title="3">              <span class="dt">numbers=</span><span class="ot">TRUE</span>, <span class="dt">sortVars=</span><span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb256-4" title="4">              <span class="dt">labels=</span><span class="kw">names</span>(iris.mis), <span class="dt">cex.axis=</span>.<span class="dv">7</span>,</a>
<a class="sourceLine" id="cb256-5" title="5">              <span class="dt">gap=</span><span class="dv">3</span>, <span class="dt">ylab=</span><span class="kw">c</span>(<span class="st">&quot;Missing data&quot;</span>,<span class="st">&quot;Pattern&quot;</span>))</a></code></pre></div>
<p><img src="missing_data_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<pre><code>## 
##  Variables sorted by number of missings: 
##      Variable      Count
##   Petal.Width 0.14000000
##  Sepal.Length 0.13333333
##       Species 0.11333333
##  Petal.Length 0.06000000
##   Sepal.Width 0.05333333</code></pre>
<p>Here’s another example of where only 10% of the data overall is missing, but it results in only 58% complete cases.</p>
<div id="multiply-impute-the-missing-data-using-mice" class="section level3">
<h3><span class="header-section-number">15.8.1</span> Multiply impute the missing data using <code>mice()</code></h3>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb258-1" title="1">imp_iris &lt;-<span class="st"> </span><span class="kw">mice</span>(iris.mis, <span class="dt">m=</span><span class="dv">10</span>, <span class="dt">maxit=</span><span class="dv">25</span>, <span class="dt">meth=</span><span class="st">&quot;pmm&quot;</span>, <span class="dt">seed=</span><span class="dv">500</span>, <span class="dt">printFlag=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb258-2" title="2"><span class="kw">summary</span>(imp_iris)</a>
<a class="sourceLine" id="cb258-3" title="3"><span class="co">## Class: mids</span></a>
<a class="sourceLine" id="cb258-4" title="4"><span class="co">## Number of multiple imputations:  10 </span></a>
<a class="sourceLine" id="cb258-5" title="5"><span class="co">## Imputation methods:</span></a>
<a class="sourceLine" id="cb258-6" title="6"><span class="co">## Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species </span></a>
<a class="sourceLine" id="cb258-7" title="7"><span class="co">##        &quot;pmm&quot;        &quot;pmm&quot;        &quot;pmm&quot;        &quot;pmm&quot;        &quot;pmm&quot; </span></a>
<a class="sourceLine" id="cb258-8" title="8"><span class="co">## PredictorMatrix:</span></a>
<a class="sourceLine" id="cb258-9" title="9"><span class="co">##              Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></a>
<a class="sourceLine" id="cb258-10" title="10"><span class="co">## Sepal.Length            0           1            1           1       1</span></a>
<a class="sourceLine" id="cb258-11" title="11"><span class="co">## Sepal.Width             1           0            1           1       1</span></a>
<a class="sourceLine" id="cb258-12" title="12"><span class="co">## Petal.Length            1           1            0           1       1</span></a>
<a class="sourceLine" id="cb258-13" title="13"><span class="co">## Petal.Width             1           1            1           0       1</span></a>
<a class="sourceLine" id="cb258-14" title="14"><span class="co">## Species                 1           1            1           1       0</span></a></code></pre></div>

<div class="rmdnote">
<p>The Stack Exchange post listed below has a great explanation/description of what each of these arguments control. It is a <strong>very</strong> good idea to understand these controls.</p>
<a href="https://stats.stackexchange.com/questions/219013/how-do-the-number-of-imputations-the-maximum-iterations-affect-accuracy-in-mul/219049#219049" class="uri">https://stats.stackexchange.com/questions/219013/how-do-the-number-of-imputations-the-maximum-iterations-affect-accuracy-in-mul/219049#219049</a>
</div>

</div>
<div id="check-the-imputation-method-used-on-each-variable." class="section level3">
<h3><span class="header-section-number">15.8.2</span> Check the imputation method used on each variable.</h3>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb259-1" title="1">imp_iris<span class="op">$</span>meth</a>
<a class="sourceLine" id="cb259-2" title="2"><span class="co">## Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species </span></a>
<a class="sourceLine" id="cb259-3" title="3"><span class="co">##        &quot;pmm&quot;        &quot;pmm&quot;        &quot;pmm&quot;        &quot;pmm&quot;        &quot;pmm&quot;</span></a></code></pre></div>
<p>Predictive mean matching was used for all variables, even <code>Species</code>. This is reasonable because PMM is a hot deck method of imputation.</p>
</div>
<div id="check-convergence" class="section level3">
<h3><span class="header-section-number">15.8.3</span> Check Convergence</h3>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb260-1" title="1"><span class="kw">plot</span>(imp_iris, <span class="kw">c</span>(<span class="st">&quot;Sepal.Length&quot;</span>, <span class="st">&quot;Sepal.Width&quot;</span>, <span class="st">&quot;Petal.Length&quot;</span>))</a></code></pre></div>
<p><img src="missing_data_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>The variance across chains is no larger than the variance within chains.</p>
</div>
<div id="look-at-the-values-generated-for-imputation" class="section level3">
<h3><span class="header-section-number">15.8.4</span> Look at the values generated for imputation</h3>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb261-1" title="1">imp_iris<span class="op">$</span>imp<span class="op">$</span>Sepal.Length</a>
<a class="sourceLine" id="cb261-2" title="2"><span class="co">##       1   2   3   4   5   6   7   8   9  10</span></a>
<a class="sourceLine" id="cb261-3" title="3"><span class="co">## 12  5.0 5.1 5.1 5.4 5.1 5.2 5.1 5.1 5.4 5.0</span></a>
<a class="sourceLine" id="cb261-4" title="4"><span class="co">## 13  4.4 4.9 4.7 4.7 4.4 4.4 4.7 5.0 4.4 4.4</span></a>
<a class="sourceLine" id="cb261-5" title="5"><span class="co">## 14  4.4 4.7 4.9 4.4 4.5 4.9 4.4 4.7 4.9 4.7</span></a>
<a class="sourceLine" id="cb261-6" title="6"><span class="co">## 36  4.4 4.4 4.4 4.4 4.4 4.7 4.4 4.4 4.6 4.9</span></a>
<a class="sourceLine" id="cb261-7" title="7"><span class="co">## 38  5.0 5.0 5.1 5.0 5.0 4.6 5.0 5.0 5.4 5.0</span></a>
<a class="sourceLine" id="cb261-8" title="8"><span class="co">## 40  4.9 5.0 5.4 5.0 4.9 5.8 5.0 4.7 5.1 5.0</span></a>
<a class="sourceLine" id="cb261-9" title="9"><span class="co">## 46  4.4 4.4 4.7 4.9 4.4 4.4 4.4 4.6 4.6 4.9</span></a>
<a class="sourceLine" id="cb261-10" title="10"><span class="co">## 51  6.9 6.5 6.5 6.3 5.9 6.7 6.5 6.7 6.9 6.9</span></a>
<a class="sourceLine" id="cb261-11" title="11"><span class="co">## 56  6.5 6.6 6.0 5.9 5.8 6.0 6.7 6.6 5.4 5.4</span></a>
<a class="sourceLine" id="cb261-12" title="12"><span class="co">## 62  5.8 6.3 5.6 6.1 5.6 5.7 5.7 5.6 6.6 5.6</span></a>
<a class="sourceLine" id="cb261-13" title="13"><span class="co">## 74  6.1 6.5 6.8 6.5 6.3 6.9 6.4 6.3 6.0 5.9</span></a>
<a class="sourceLine" id="cb261-14" title="14"><span class="co">## 75  6.1 5.7 6.1 6.3 5.7 6.8 6.1 5.6 6.0 6.0</span></a>
<a class="sourceLine" id="cb261-15" title="15"><span class="co">## 86  6.3 6.1 6.8 6.7 6.6 6.7 6.1 6.0 6.7 5.9</span></a>
<a class="sourceLine" id="cb261-16" title="16"><span class="co">## 90  5.2 5.5 5.6 6.1 5.5 5.6 5.8 6.0 6.2 6.1</span></a>
<a class="sourceLine" id="cb261-17" title="17"><span class="co">## 91  5.8 5.7 5.8 6.1 5.7 5.8 5.8 5.6 6.8 5.8</span></a>
<a class="sourceLine" id="cb261-18" title="18"><span class="co">## 106 7.7 7.3 7.9 7.7 7.3 7.7 7.7 7.2 7.3 7.2</span></a>
<a class="sourceLine" id="cb261-19" title="19"><span class="co">## 124 6.2 5.6 6.0 6.0 6.2 5.6 6.2 5.7 5.7 5.6</span></a>
<a class="sourceLine" id="cb261-20" title="20"><span class="co">## 142 6.1 6.7 6.3 6.7 5.4 6.6 6.3 6.5 5.9 6.4</span></a>
<a class="sourceLine" id="cb261-21" title="21"><span class="co">## 145 7.4 6.0 6.0 6.5 6.3 6.9 6.0 6.3 6.3 6.8</span></a>
<a class="sourceLine" id="cb261-22" title="22"><span class="co">## 148 6.4 6.6 6.0 6.3 5.4 6.5 6.1 6.1 5.6 6.3</span></a></code></pre></div>
<p>This is just for us to see what this imputed data look like. Each column is an imputed value, each row is a row where an imputation for <code>Sepal.Length</code> was needed. Notice only imputations are shown, no observed data is showing here.</p>
</div>
<div id="create-a-complete-data-set-by-filling-in-the-missing-data-using-the-imputations" class="section level3">
<h3><span class="header-section-number">15.8.5</span> Create a complete data set by filling in the missing data using the imputations</h3>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb262-1" title="1">iris_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">complete</span>(imp_iris, <span class="dt">action=</span><span class="dv">1</span>)</a></code></pre></div>
<p>Action=1 returns the first completed data set, action=2 returns the second completed data set, and so on.</p>
<div id="alternative---stack-the-imputed-data-sets-in-long-format." class="section level4">
<h4><span class="header-section-number">15.8.5.1</span> Alternative - Stack the imputed data sets in <em>long</em> format.</h4>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb263-1" title="1">iris_long &lt;-<span class="st"> </span><span class="kw">complete</span>(imp_iris, <span class="st">&#39;long&#39;</span>)</a></code></pre></div>
<p>By looking at the <code>names</code> of this new object we can confirm that there are indeed 10 complete data sets with <span class="math inline">\(n=150\)</span> in each.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb264-1" title="1"><span class="kw">names</span>(iris_long)</a>
<a class="sourceLine" id="cb264-2" title="2"><span class="co">## [1] &quot;.imp&quot;         &quot;.id&quot;          &quot;Sepal.Length&quot; &quot;Sepal.Width&quot; </span></a>
<a class="sourceLine" id="cb264-3" title="3"><span class="co">## [5] &quot;Petal.Length&quot; &quot;Petal.Width&quot;  &quot;Species&quot;</span></a>
<a class="sourceLine" id="cb264-4" title="4"><span class="kw">table</span>(iris_long<span class="op">$</span>.imp)</a>
<a class="sourceLine" id="cb264-5" title="5"><span class="co">## </span></a>
<a class="sourceLine" id="cb264-6" title="6"><span class="co">##   1   2   3   4   5   6   7   8   9  10 </span></a>
<a class="sourceLine" id="cb264-7" title="7"><span class="co">## 150 150 150 150 150 150 150 150 150 150</span></a></code></pre></div>
</div>
</div>
<div id="visualize-imputations" class="section level3">
<h3><span class="header-section-number">15.8.6</span> Visualize Imputations</h3>
<p>Let’s compare the imputed values to the observed values to see if they are indeed “plausible” We want to see that the distribution of of the magenta points (imputed) matches the distribution of the blue ones (observed).</p>
<p><strong>Univariately</strong></p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb265-1" title="1"><span class="kw">densityplot</span>(imp_iris)</a></code></pre></div>
<p><img src="missing_data_files/figure-html/unnamed-chunk-38-1.png" width="768" /></p>
<p><strong>Multivariately</strong></p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb266-1" title="1"><span class="kw">xyplot</span>(imp_iris, Sepal.Length <span class="op">~</span><span class="st"> </span>Sepal.Width <span class="op">+</span><span class="st"> </span>Petal.Length <span class="op">+</span><span class="st"> </span>Petal.Width <span class="op">|</span><span class="st"> </span>Species, <span class="dt">cex=</span>.<span class="dv">8</span>, <span class="dt">pch=</span><span class="dv">16</span>)</a></code></pre></div>
<p><img src="missing_data_files/figure-html/unnamed-chunk-39-1.png" width="768" /></p>
<p><strong>Analyze and pool</strong>
All of this imputation was done so we could actually perform an analysis!</p>
<p>Let’s run a simple linear regression on <code>Sepal.Length</code> as a function of <code>Sepal.Width</code>,
<code>Petal.Length</code> and <code>Species</code>.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb267-1" title="1">model &lt;-<span class="st"> </span><span class="kw">with</span>(imp_iris, <span class="kw">lm</span>(Sepal.Length <span class="op">~</span><span class="st"> </span>Sepal.Width <span class="op">+</span><span class="st"> </span>Petal.Length <span class="op">+</span><span class="st"> </span>Species))</a>
<a class="sourceLine" id="cb267-2" title="2"><span class="kw">summary</span>(<span class="kw">pool</span>(model))</a>
<a class="sourceLine" id="cb267-3" title="3"><span class="co">##                     estimate  std.error statistic        df      p.value</span></a>
<a class="sourceLine" id="cb267-4" title="4"><span class="co">## (Intercept)        2.3545749 0.30074385  7.829171  78.77964 1.904299e-11</span></a>
<a class="sourceLine" id="cb267-5" title="5"><span class="co">## Sepal.Width        0.4299370 0.09267795  4.639043  84.97716 1.258424e-05</span></a>
<a class="sourceLine" id="cb267-6" title="6"><span class="co">## Petal.Length       0.8040298 0.06995969 11.492758 120.07136 0.000000e+00</span></a>
<a class="sourceLine" id="cb267-7" title="7"><span class="co">## Speciesversicolor -1.0387902 0.23870303 -4.351810 108.40518 3.067926e-05</span></a>
<a class="sourceLine" id="cb267-8" title="8"><span class="co">## Speciesvirginica  -1.5565325 0.30847821 -5.045843 123.77749 1.568964e-06</span></a></code></pre></div>
<p>Pooled parameter estimates <span class="math inline">\(\bar{Q}\)</span> and their standard errors <span class="math inline">\(\sqrt{T}\)</span> are provided, along with a significance test (against <span class="math inline">\(\beta_p=0\)</span>). Note that a 95% interval must be calculated manually.</p>
<p>Digging deeper into the object created by <code>pool(model)</code>, specifically the <code>pooled</code> list, we can pull out additional information including the number of missing values, the <em>fraction of missing information</em> (<code>fmi</code>) as defined by Rubin (1987), and <code>lambda</code>, the proportion of total variance that is attributable to the missing data (<span class="math inline">\(\lambda = (B + B/m)/T)\)</span>.</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb268-1" title="1"><span class="kw">kable</span>(<span class="kw">pool</span>(model)<span class="op">$</span>pooled[,<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">8</span><span class="op">:</span><span class="dv">9</span>)], <span class="dt">digits=</span><span class="dv">3</span>)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
ubar
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
t
</th>
<th style="text-align:right;">
lambda
</th>
<th style="text-align:right;">
fmi
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
2.355
</td>
<td style="text-align:right;">
0.073
</td>
<td style="text-align:right;">
0.016
</td>
<td style="text-align:right;">
0.090
</td>
<td style="text-align:right;">
0.191
</td>
<td style="text-align:right;">
0.211
</td>
</tr>
<tr>
<td style="text-align:left;">
Sepal.Width
</td>
<td style="text-align:right;">
0.430
</td>
<td style="text-align:right;">
0.007
</td>
<td style="text-align:right;">
0.001
</td>
<td style="text-align:right;">
0.009
</td>
<td style="text-align:right;">
0.173
</td>
<td style="text-align:right;">
0.192
</td>
</tr>
<tr>
<td style="text-align:left;">
Petal.Length
</td>
<td style="text-align:right;">
0.804
</td>
<td style="text-align:right;">
0.004
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
0.005
</td>
<td style="text-align:right;">
0.081
</td>
<td style="text-align:right;">
0.096
</td>
</tr>
<tr>
<td style="text-align:left;">
Speciesversicolor
</td>
<td style="text-align:right;">
-1.039
</td>
<td style="text-align:right;">
0.051
</td>
<td style="text-align:right;">
0.006
</td>
<td style="text-align:right;">
0.057
</td>
<td style="text-align:right;">
0.111
</td>
<td style="text-align:right;">
0.127
</td>
</tr>
<tr>
<td style="text-align:left;">
Speciesvirginica
</td>
<td style="text-align:right;">
-1.557
</td>
<td style="text-align:right;">
0.088
</td>
<td style="text-align:right;">
0.006
</td>
<td style="text-align:right;">
0.095
</td>
<td style="text-align:right;">
0.071
</td>
<td style="text-align:right;">
0.085
</td>
</tr>
</tbody>
</table>
</div>
<div id="calculating-bias" class="section level3">
<h3><span class="header-section-number">15.8.7</span> Calculating bias</h3>
<p>The iris data set had no missing data to begin with. So we can calculate the “true” parameter estimates…</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb269-1" title="1">true.model &lt;-<span class="st"> </span><span class="kw">lm</span>(Sepal.Length <span class="op">~</span><span class="st"> </span>Sepal.Width <span class="op">+</span><span class="st"> </span>Petal.Length <span class="op">+</span><span class="st"> </span>Species, <span class="dt">data=</span>iris)</a></code></pre></div>
<p>and find the difference in coefficients.</p>
<p>The variance of the multiply imputed estimates is larger because of the between-imputation variance.</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb270-1" title="1"><span class="kw">library</span>(forestplot)</a>
<a class="sourceLine" id="cb270-2" title="2">te.mean &lt;-<span class="st"> </span><span class="kw">summary</span>(true.model)<span class="op">$</span>coefficients[,<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb270-3" title="3">mi.mean &lt;-<span class="st"> </span><span class="kw">summary</span>(<span class="kw">pool</span>(model))[,<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb270-4" title="4">te.ll   &lt;-<span class="st"> </span>te.mean <span class="op">-</span><span class="st"> </span><span class="fl">1.96</span><span class="op">*</span><span class="kw">summary</span>(true.model)<span class="op">$</span>coefficients[,<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb270-5" title="5">mi.ll   &lt;-<span class="st"> </span>mi.mean <span class="op">-</span><span class="st"> </span><span class="fl">1.96</span><span class="op">*</span><span class="kw">summary</span>(<span class="kw">pool</span>(model))[,<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb270-6" title="6">te.ul   &lt;-<span class="st"> </span>te.mean <span class="op">+</span><span class="st"> </span><span class="fl">1.96</span><span class="op">*</span><span class="kw">summary</span>(true.model)<span class="op">$</span>coefficients[,<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb270-7" title="7">mi.ul   &lt;-<span class="st"> </span>mi.mean <span class="op">+</span><span class="st"> </span><span class="fl">1.96</span><span class="op">*</span><span class="kw">summary</span>(<span class="kw">pool</span>(model))[,<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb270-8" title="8">names   &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">coef</span>(true.model))</a>
<a class="sourceLine" id="cb270-9" title="9"></a>
<a class="sourceLine" id="cb270-10" title="10"></a>
<a class="sourceLine" id="cb270-11" title="11"><span class="kw">forestplot</span>(names, </a>
<a class="sourceLine" id="cb270-12" title="12">           <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;True Model&quot;</span>, <span class="st">&quot;MICE&quot;</span>),</a>
<a class="sourceLine" id="cb270-13" title="13">           <span class="dt">fn.ci_norm =</span> <span class="kw">c</span>(fpDrawNormalCI, fpDrawCircleCI), </a>
<a class="sourceLine" id="cb270-14" title="14">           <span class="dt">mean =</span> <span class="kw">cbind</span>(te.mean, mi.mean), </a>
<a class="sourceLine" id="cb270-15" title="15">           <span class="dt">lower =</span> <span class="kw">cbind</span>(te.ll, mi.ll),</a>
<a class="sourceLine" id="cb270-16" title="16">           <span class="dt">upper =</span> <span class="kw">cbind</span>(te.ul, mi.ul), </a>
<a class="sourceLine" id="cb270-17" title="17">           <span class="dt">col=</span><span class="kw">fpColors</span>(<span class="dt">box=</span><span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;darkred&quot;</span>)), </a>
<a class="sourceLine" id="cb270-18" title="18">           <span class="dt">xlab=</span><span class="st">&quot;Regression coefficients&quot;</span>,</a>
<a class="sourceLine" id="cb270-19" title="19">           <span class="dt">boxsize =</span> <span class="fl">.1</span></a>
<a class="sourceLine" id="cb270-20" title="20">           )</a></code></pre></div>
<p><img src="missing_data_files/figure-html/unnamed-chunk-43-1.png" width="960" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="multiple-imputation-using-chained-equations-mice.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="final-thoughts.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
