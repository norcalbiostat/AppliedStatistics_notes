<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Applied Statistics II</title>
  <meta name="description" content="Course notes for MATH 456 at CSU Chico">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Applied Statistics II" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Course notes for MATH 456 at CSU Chico" />
  <meta name="github-repo" content="norcalbiostat/MATH456_notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Applied Statistics II" />
  
  <meta name="twitter:description" content="Course notes for MATH 456 at CSU Chico" />
  

<meta name="author" content="Robin A. Donatello and Edward A. Roualdes">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="identifying-variable-types.html">
<link rel="next" href="outliers.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Applied Statistics II course notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="data-prep.html"><a href="data-prep.html"><i class="fa fa-check"></i><b>1</b> Preparing Data for Analysis</a><ul>
<li class="chapter" data-level="1.1" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html"><i class="fa fa-check"></i><b>1.1</b> Reproducible Workflows</a></li>
<li class="chapter" data-level="1.2" data-path="identifying-variable-types.html"><a href="identifying-variable-types.html"><i class="fa fa-check"></i><b>1.2</b> Identifying Variable Types</a></li>
<li class="chapter" data-level="1.3" data-path="data-editing-and-recoding.html"><a href="data-editing-and-recoding.html"><i class="fa fa-check"></i><b>1.3</b> Data Editing and Recoding</a></li>
<li class="chapter" data-level="1.4" data-path="outliers.html"><a href="outliers.html"><i class="fa fa-check"></i><b>1.4</b> Outliers</a></li>
<li class="chapter" data-level="1.5" data-path="data-transformations.html"><a href="data-transformations.html"><i class="fa fa-check"></i><b>1.5</b> Data Transformations</a></li>
<li class="chapter" data-level="1.6" data-path="selecting-appropriate-analysis.html"><a href="selecting-appropriate-analysis.html"><i class="fa fa-check"></i><b>1.6</b> Selecting Appropriate Analysis</a></li>
<li class="chapter" data-level="1.7" data-path="wide-vs-long-data.html"><a href="wide-vs-long-data.html"><i class="fa fa-check"></i><b>1.7</b> Wide vs. Long data</a></li>
</ul></li>
<li class="part"><span><b>I Regression Modeling</b></span></li>
<li class="chapter" data-level="2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html"><i class="fa fa-check"></i><b>2</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="2.1" data-path="mathmatical-model.html"><a href="mathmatical-model.html"><i class="fa fa-check"></i><b>2.1</b> Mathmatical Model</a></li>
<li class="chapter" data-level="2.2" data-path="parameter-estimates.html"><a href="parameter-estimates.html"><i class="fa fa-check"></i><b>2.2</b> Parameter Estimates</a></li>
<li class="chapter" data-level="2.3" data-path="interval-estimation.html"><a href="interval-estimation.html"><i class="fa fa-check"></i><b>2.3</b> Interval estimation</a></li>
<li class="chapter" data-level="2.4" data-path="corelation-coefficient.html"><a href="corelation-coefficient.html"><i class="fa fa-check"></i><b>2.4</b> Corelation Coefficient</a></li>
<li class="chapter" data-level="2.5" data-path="assumptions.html"><a href="assumptions.html"><i class="fa fa-check"></i><b>2.5</b> Assumptions</a></li>
<li class="chapter" data-level="2.6" data-path="example.html"><a href="example.html"><i class="fa fa-check"></i><b>2.6</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html"><i class="fa fa-check"></i><b>3</b> Multiple Linear Regression</a><ul>
<li class="chapter" data-level="3.1" data-path="types-of-x-variables.html"><a href="types-of-x-variables.html"><i class="fa fa-check"></i><b>3.1</b> Types of X variables</a></li>
<li class="chapter" data-level="3.2" data-path="mathematical-model.html"><a href="mathematical-model.html"><i class="fa fa-check"></i><b>3.2</b> Mathematical Model</a></li>
<li class="chapter" data-level="3.3" data-path="parameter-estimation.html"><a href="parameter-estimation.html"><i class="fa fa-check"></i><b>3.3</b> Parameter Estimation</a></li>
<li class="chapter" data-level="3.4" data-path="example-1.html"><a href="example-1.html"><i class="fa fa-check"></i><b>3.4</b> Example</a></li>
<li class="chapter" data-level="3.5" data-path="model-diagnostics.html"><a href="model-diagnostics.html"><i class="fa fa-check"></i><b>3.5</b> Model Diagnostics</a></li>
<li class="chapter" data-level="3.6" data-path="multicollinearity.html"><a href="multicollinearity.html"><i class="fa fa-check"></i><b>3.6</b> Multicollinearity</a></li>
<li class="chapter" data-level="3.7" data-path="what-to-watch-out-for.html"><a href="what-to-watch-out-for.html"><i class="fa fa-check"></i><b>3.7</b> What to watch out for</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="model-building.html"><a href="model-building.html"><i class="fa fa-check"></i><b>4</b> Model Building</a><ul>
<li class="chapter" data-level="4.1" data-path="categorical-predictors.html"><a href="categorical-predictors.html"><i class="fa fa-check"></i><b>4.1</b> Categorical Predictors</a><ul>
<li class="chapter" data-level="4.1.1" data-path="categorical-predictors.html"><a href="categorical-predictors.html#factor-variable-coding"><i class="fa fa-check"></i><b>4.1.1</b> Factor variable coding</a></li>
<li class="chapter" data-level="4.1.2" data-path="categorical-predictors.html"><a href="categorical-predictors.html#wald-test"><i class="fa fa-check"></i><b>4.1.2</b> Wald test</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="stratification.html"><a href="stratification.html"><i class="fa fa-check"></i><b>4.2</b> Stratification</a></li>
<li class="chapter" data-level="4.3" data-path="moderation.html"><a href="moderation.html"><i class="fa fa-check"></i><b>4.3</b> Moderation</a><ul>
<li class="chapter" data-level="4.3.1" data-path="moderation.html"><a href="moderation.html#example-2"><i class="fa fa-check"></i><b>4.3.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="interactions.html"><a href="interactions.html"><i class="fa fa-check"></i><b>4.4</b> Interactions</a><ul>
<li class="chapter" data-level="4.4.1" data-path="interactions.html"><a href="interactions.html#example-3"><i class="fa fa-check"></i><b>4.4.1</b> Example</a></li>
<li class="chapter" data-level="4.4.2" data-path="interactions.html"><a href="interactions.html#example-4"><i class="fa fa-check"></i><b>4.4.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="variable-selection-process.html"><a href="variable-selection-process.html"><i class="fa fa-check"></i><b>4.5</b> Variable Selection Process</a><ul>
<li class="chapter" data-level="4.5.1" data-path="variable-selection-process.html"><a href="variable-selection-process.html#confounding"><i class="fa fa-check"></i><b>4.5.1</b> Confounding</a></li>
<li class="chapter" data-level="4.5.2" data-path="variable-selection-process.html"><a href="variable-selection-process.html#automated-selection-procedures"><i class="fa fa-check"></i><b>4.5.2</b> Automated selection procedures</a></li>
<li class="chapter" data-level="4.5.3" data-path="variable-selection-process.html"><a href="variable-selection-process.html#best-subsets-pma5-section-8.7"><i class="fa fa-check"></i><b>4.5.3</b> Best Subsets (PMA5 Section 8.7)</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="comparing-between-models.html"><a href="comparing-between-models.html"><i class="fa fa-check"></i><b>4.6</b> Comparing between models</a></li>
<li class="chapter" data-level="4.7" data-path="what-to-watch-out-for-1.html"><a href="what-to-watch-out-for-1.html"><i class="fa fa-check"></i><b>4.7</b> What to watch out for</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>5</b> Generalized Linear Models</a><ul>
<li class="chapter" data-level="5.1" data-path="fitting-glms-in-r.html"><a href="fitting-glms-in-r.html"><i class="fa fa-check"></i><b>5.1</b> Fitting GLMs in R</a></li>
<li class="chapter" data-level="5.2" data-path="binary-data.html"><a href="binary-data.html"><i class="fa fa-check"></i><b>5.2</b> Binary Data</a><ul>
<li class="chapter" data-level="5.2.1" data-path="binary-data.html"><a href="binary-data.html#example-the-effect-of-gender-on-depression"><i class="fa fa-check"></i><b>5.2.1</b> Example: The effect of gender on Depression</a></li>
<li class="chapter" data-level="5.2.2" data-path="binary-data.html"><a href="binary-data.html#multiple-logistic-regression"><i class="fa fa-check"></i><b>5.2.2</b> Multiple Logistic Regression</a></li>
<li class="chapter" data-level="5.2.3" data-path="binary-data.html"><a href="binary-data.html#interpretation"><i class="fa fa-check"></i><b>5.2.3</b> Interpretation</a></li>
<li class="chapter" data-level="5.2.4" data-path="binary-data.html"><a href="binary-data.html#goodness-of-fit"><i class="fa fa-check"></i><b>5.2.4</b> Goodness of Fit</a></li>
<li class="chapter" data-level="5.2.5" data-path="binary-data.html"><a href="binary-data.html#classification"><i class="fa fa-check"></i><b>5.2.5</b> Classification</a></li>
<li class="chapter" data-level="5.2.6" data-path="binary-data.html"><a href="binary-data.html#calculating-predictions"><i class="fa fa-check"></i><b>5.2.6</b> Calculating predictions</a></li>
<li class="chapter" data-level="5.2.7" data-path="binary-data.html"><a href="binary-data.html#model-performance"><i class="fa fa-check"></i><b>5.2.7</b> Model Performance</a></li>
<li class="chapter" data-level="5.2.8" data-path="binary-data.html"><a href="binary-data.html#roc-curves"><i class="fa fa-check"></i><b>5.2.8</b> ROC Curves</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="categorical-data.html"><a href="categorical-data.html"><i class="fa fa-check"></i><b>5.3</b> Categorical Data</a></li>
<li class="chapter" data-level="5.4" data-path="count-data.html"><a href="count-data.html"><i class="fa fa-check"></i><b>5.4</b> Count Data</a></li>
</ul></li>
<li class="part"><span><b>II Multivariate Analysis</b></span></li>
<li class="chapter" data-level="6" data-path="pca.html"><a href="pca.html"><i class="fa fa-check"></i><b>6</b> Principal Component Analysis</a><ul>
<li class="chapter" data-level="6.1" data-path="basic-idea.html"><a href="basic-idea.html"><i class="fa fa-check"></i><b>6.1</b> Basic Idea</a></li>
<li class="chapter" data-level="6.2" data-path="more-generally.html"><a href="more-generally.html"><i class="fa fa-check"></i><b>6.2</b> More Generally</a></li>
<li class="chapter" data-level="6.3" data-path="calculating-c.html"><a href="calculating-c.html"><i class="fa fa-check"></i><b>6.3</b> Calculating C</a></li>
<li class="chapter" data-level="6.4" data-path="using-the-correlation-matrix.html"><a href="using-the-correlation-matrix.html"><i class="fa fa-check"></i><b>6.4</b> Using the correlation matrix</a></li>
<li class="chapter" data-level="6.5" data-path="data-reduction.html"><a href="data-reduction.html"><i class="fa fa-check"></i><b>6.5</b> Data Reduction</a></li>
<li class="chapter" data-level="6.6" data-path="example-analysis-of-depression.html"><a href="example-analysis-of-depression.html"><i class="fa fa-check"></i><b>6.6</b> Example Analysis of depression</a></li>
<li class="chapter" data-level="6.7" data-path="use-in-multiple-regression.html"><a href="use-in-multiple-regression.html"><i class="fa fa-check"></i><b>6.7</b> Use in Multiple Regression</a></li>
<li class="chapter" data-level="6.8" data-path="things-to-watch-out-for.html"><a href="things-to-watch-out-for.html"><i class="fa fa-check"></i><b>6.8</b> Things to watch out for</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="fa.html"><a href="fa.html"><i class="fa fa-check"></i><b>7</b> Factor Analysis</a><ul>
<li class="chapter" data-level="7.1" data-path="stuff.html"><a href="stuff.html"><i class="fa fa-check"></i><b>7.1</b> stuff</a></li>
</ul></li>
<li class="part"><span><b>III Multi-level Analysis</b></span></li>
<li class="chapter" data-level="8" data-path="RI.html"><a href="RI.html"><i class="fa fa-check"></i><b>8</b> Random Intercept Models (RI)</a><ul>
<li class="chapter" data-level="8.1" data-path="pooling.html"><a href="pooling.html"><i class="fa fa-check"></i><b>8.1</b> Pooling</a></li>
<li class="chapter" data-level="8.2" data-path="mathematical-models.html"><a href="mathematical-models.html"><i class="fa fa-check"></i><b>8.2</b> Mathematical Models</a><ul>
<li class="chapter" data-level="8.2.1" data-path="mathematical-models.html"><a href="mathematical-models.html#complete-pooling"><i class="fa fa-check"></i><b>8.2.1</b> Complete Pooling</a></li>
<li class="chapter" data-level="8.2.2" data-path="mathematical-models.html"><a href="mathematical-models.html#no-pooling"><i class="fa fa-check"></i><b>8.2.2</b> No Pooling</a></li>
<li class="chapter" data-level="8.2.3" data-path="mathematical-models.html"><a href="mathematical-models.html#partial-pooling-ri"><i class="fa fa-check"></i><b>8.2.3</b> Partial Pooling (RI)</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="fitting-models-in-r.html"><a href="fitting-models-in-r.html"><i class="fa fa-check"></i><b>8.3</b> Fitting models in R</a></li>
<li class="chapter" data-level="8.4" data-path="including-covariates.html"><a href="including-covariates.html"><i class="fa fa-check"></i><b>8.4</b> Including Covariates</a></li>
<li class="chapter" data-level="8.5" data-path="intraclass-correlation.html"><a href="intraclass-correlation.html"><i class="fa fa-check"></i><b>8.5</b> Intraclass Correlation</a></li>
<li class="chapter" data-level="8.6" data-path="additional-references.html"><a href="additional-references.html"><i class="fa fa-check"></i><b>8.6</b> Additional References</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="longitudinal.html"><a href="longitudinal.html"><i class="fa fa-check"></i><b>9</b> Longitudinal Data</a></li>
<li class="chapter" data-level="10" data-path="spatial.html"><a href="spatial.html"><i class="fa fa-check"></i><b>10</b> Spatial Data</a></li>
<li class="part"><span><b>IV Other Topics</b></span></li>
<li class="chapter" data-level="11" data-path="mda.html"><a href="mda.html"><i class="fa fa-check"></i><b>11</b> Missing Data</a><ul>
<li class="chapter" data-level="11.1" data-path="identifying-missing-data.html"><a href="identifying-missing-data.html"><i class="fa fa-check"></i><b>11.1</b> Identifying missing data</a><ul>
<li class="chapter" data-level="11.1.1" data-path="identifying-missing-data.html"><a href="identifying-missing-data.html#visualize-missing-patterns"><i class="fa fa-check"></i><b>11.1.1</b> Visualize missing patterns</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="effects-of-nonresponse.html"><a href="effects-of-nonresponse.html"><i class="fa fa-check"></i><b>11.2</b> Effects of Nonresponse</a></li>
<li class="chapter" data-level="11.3" data-path="missing-data-mechanisms.html"><a href="missing-data-mechanisms.html"><i class="fa fa-check"></i><b>11.3</b> Missing Data Mechanisms</a><ul>
<li class="chapter" data-level="11.3.1" data-path="missing-data-mechanisms.html"><a href="missing-data-mechanisms.html#demonstration-via-simulation"><i class="fa fa-check"></i><b>11.3.1</b> Demonstration via Simulation</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="general-strategies.html"><a href="general-strategies.html"><i class="fa fa-check"></i><b>11.4</b> General strategies</a><ul>
<li class="chapter" data-level="11.4.1" data-path="general-strategies.html"><a href="general-strategies.html#complete-cases-analysis"><i class="fa fa-check"></i><b>11.4.1</b> Complete cases analysis</a></li>
<li class="chapter" data-level="11.4.2" data-path="general-strategies.html"><a href="general-strategies.html#available-case-analysis"><i class="fa fa-check"></i><b>11.4.2</b> Available-case analysis</a></li>
<li class="chapter" data-level="11.4.3" data-path="general-strategies.html"><a href="general-strategies.html#imputation"><i class="fa fa-check"></i><b>11.4.3</b> Imputation</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="imputation-methods.html"><a href="imputation-methods.html"><i class="fa fa-check"></i><b>11.5</b> Imputation Methods</a></li>
<li class="chapter" data-level="11.6" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html"><i class="fa fa-check"></i><b>11.6</b> Multiple Imputation (MI)</a><ul>
<li class="chapter" data-level="11.6.1" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html#goals"><i class="fa fa-check"></i><b>11.6.1</b> Goals</a></li>
<li class="chapter" data-level="11.6.2" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html#technique"><i class="fa fa-check"></i><b>11.6.2</b> Technique</a></li>
<li class="chapter" data-level="11.6.3" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html#mi-as-a-paradigm"><i class="fa fa-check"></i><b>11.6.3</b> MI as a paradigm</a></li>
<li class="chapter" data-level="11.6.4" data-path="multiple-imputation-mi.html"><a href="multiple-imputation-mi.html#inference-on-mi"><i class="fa fa-check"></i><b>11.6.4</b> Inference on MI</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="multiple-imputation-using-chained-equations-mice.html"><a href="multiple-imputation-using-chained-equations-mice.html"><i class="fa fa-check"></i><b>11.7</b> Multiple Imputation using Chained Equations (MICE)</a><ul>
<li class="chapter" data-level="11.7.1" data-path="multiple-imputation-using-chained-equations-mice.html"><a href="multiple-imputation-using-chained-equations-mice.html#visualize-imputations"><i class="fa fa-check"></i><b>11.7.1</b> Visualize Imputations</a></li>
<li class="chapter" data-level="11.7.2" data-path="multiple-imputation-using-chained-equations-mice.html"><a href="multiple-imputation-using-chained-equations-mice.html#calculating-bias"><i class="fa fa-check"></i><b>11.7.2</b> Calculating bias</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="final-thoughts.html"><a href="final-thoughts.html"><i class="fa fa-check"></i><b>11.8</b> Final thoughts</a></li>
<li class="chapter" data-level="11.9" data-path="additional-references-1.html"><a href="additional-references-1.html"><i class="fa fa-check"></i><b>11.9</b> Additional References</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/norcalbiostat/MATH456_notes" target="blank">View source on Github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applied Statistics II</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-editing-and-recoding" class="section level2">
<h2><span class="header-section-number">1.3</span> Data Editing and Recoding</h2>
<p>For unbiased and accurate results of a statistical analysis, sufficient data has to be present. Often times once you start slicing and dicing the data to only look at certain groups, or if you are interested in the behavior of certain variables across levels of another variable, sometimes you start to run into small sample size problems. For example, consider marital status again:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(depress<span class="op">$</span>MARITAL)
## 
## Never Married       Married      Divorced     Separated       Widowed 
##            73           127            43            13            38</code></pre></div>
<p>There are only 13 people who report being separated. This could potentially be too small of a group size for valid statistical analysis.</p>
<p>One way to deal with insufficient data within a certain category is to collapse categories. The following code uses the <code>recode()</code> function from the <code>car</code> package to create a new variable that I am calling <code>MARITAL2</code> that combines the <code>Divorced</code> and <code>Separated</code> levels.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">depress<span class="op">$</span>MARITAL2 &lt;-<span class="st"> </span>car<span class="op">::</span><span class="kw">recode</span>(depress<span class="op">$</span>MARITAL, <span class="st">&quot;&#39;Divorced&#39; = &#39;Sep/Div&#39;; &#39;Separated&#39; = &#39;Sep/Div&#39;&quot;</span>)</code></pre></div>
<p><img src="images/q.png" alt="q" /> What does the double colon <code>::</code> notation in <code>car::recode</code> do, and why is this tactic beneficial?</p>
<p>Always confirm your recodes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(depress<span class="op">$</span>MARITAL, depress<span class="op">$</span>MARITAL2, <span class="dt">useNA=</span><span class="st">&quot;always&quot;</span>)
##                
##                 Married Never Married Sep/Div Widowed &lt;NA&gt;
##   Never Married       0            73       0       0    0
##   Married           127             0       0       0    0
##   Divorced            0             0      43       0    0
##   Separated           0             0      13       0    0
##   Widowed             0             0       0      38    0
##   &lt;NA&gt;                0             0       0       0    0</code></pre></div>
<p>This confirms that records where <code>MARITAL</code> (rows) is <code>Divorced</code> or <code>Separated</code> have the value of <code>Sep/Div</code> for <code>MARITAL2</code> (columns).</p>
<p>Now let’s examine the relationship between income against marital status by creating a boxplot. This is a situation where <em>jittering</em> or <em>dodging</em> the points is helpful to avoid overplotting of points. Note that the full <code>ggplot</code> code had to be used here, not the simpler <code>qplot</code> methods. Furthermore, the <code>grid.arrange</code> function from the <code>gridExtra</code> package is used to display these plots side by side.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(gridExtra)
a &lt;-<span class="st"> </span><span class="kw">qplot</span>(<span class="dt">x=</span>MARITAL2, <span class="dt">y=</span>INCOME, <span class="dt">data=</span>depress, <span class="dt">col=</span>MARITAL2, <span class="dt">geom=</span><span class="st">&quot;point&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Without jittering&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">           </span><span class="kw">coord_flip</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span>)
b &lt;-<span class="st"> </span><span class="kw">ggplot</span>(depress, <span class="kw">aes</span>(<span class="dt">x=</span>INCOME, <span class="dt">y=</span>MARITAL2, <span class="dt">color=</span>MARITAL2), <span class="dt">main=</span><span class="st">&quot;With jittering&quot;</span>) <span class="op">+</span>
<span class="st">            </span><span class="kw">geom_point</span>(<span class="dt">position=</span><span class="kw">position_jitter</span>()) <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span>)
<span class="kw">grid.arrange</span>(a, b, <span class="dt">ncol=</span><span class="dv">2</span>)</code></pre></div>
<p><img src="data_prep_files/figure-html/unnamed-chunk-11-1.png" width="960" /></p>
<p><img src="images/q.png" /> What do you think <code>coord_flip()</code> does? Look at the difference in the X and Y values between plot a and plot b.</p>
<p><img src="images/q.png" /> What do you think <code>theme(legend.position=&quot;none&quot;)</code> does?</p>
<p><img src="images/q.png" /> What can you say about the relationship between Income and marital status?</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="identifying-variable-types.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="outliers.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
